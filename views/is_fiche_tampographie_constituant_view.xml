<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!-- Constituant Tampographie -->
        <record id="is_fiche_tampographie_constituant_view_tree" model="ir.ui.view">
            <field name="name">is.fiche.tampographie.constituant.view.tree</field>
            <field name="model">is.fiche.tampographie.constituant</field>
            <field name="arch" type="xml">
                <tree string="Constituant Tampographie">
                    <field name="name" />
                </tree>
            </field>
        </record>
        <record id="is_fiche_tampographie_constituant_view_form" model="ir.ui.view">
            <field name="name">is.fiche.tampographie.constituant.view.form</field>
            <field name="model">is.fiche.tampographie.constituant</field>
            <field name="arch" type="xml">
                <form string="Constituant Tampographie">
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                            </group>
                            <group>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="action_is_fiche_tampographie_constituant" model="ir.actions.act_window">
            <field name="name">Constituant Tampographie</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">is.fiche.tampographie.constituant</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- Type réglage Tampographie -->
        <record id="is_fiche_tampographie_type_reglage_view_tree"
            model="ir.ui.view">
            <field name="name">is.fiche.tampographie.type.reglage.view.tree
            </field>
            <field name="model">is.fiche.tampographie.type.reglage</field>
            <field name="arch" type="xml">
                <tree string="Type réglage Tampographie">
                    <field name="name" />
                </tree>
            </field>
        </record>
        <record id="is_fiche_tampographie_type_reglage_view_form"
            model="ir.ui.view">
            <field name="name">is.fiche.tampographie.type.reglage.view.form
            </field>
            <field name="model">is.fiche.tampographie.type.reglage</field>
            <field name="arch" type="xml">
                <form string="Type réglage Tampographie">
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                            </group>
                            <group>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="action_is_fiche_tampographie_type_reglage" model="ir.actions.act_window">
            <field name="name">Type réglage Tampographie</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">is.fiche.tampographie.type.reglage</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- Tampographie -->
        <record id="is_fiche_tampographie_view_tree" model="ir.ui.view">
            <field name="name">is.fiche.tampographie.view.tree</field>
            <field name="model">is.fiche.tampographie</field>
            <field name="arch" type="xml">
                <tree string="Tampographie">
                    <field name="name" />
                    <field name="article_injection_id" />
                    <field name="is_mold_dossierf" />
                    <field name="article_tampo_id" />
                    <field name="temps_cycle" />
                    <field name="nettoyage_materiel_id" />
                    <field name="date_redaction" />
                    <field name="nettoyage_piece_id" />
                    <field name="duree_vie_melange" />
                    <field name="redacteur_id" />
                    <field name="approbateur_id" />
                    <field name="indice" />
                    <field name="state" />
                </tree>
            </field>
        </record>
        <record id="is_fiche_tampographie_view_form" model="ir.ui.view">
            <field name="name">is.fiche.tampographie.view.form</field>
            <field name="model">is.fiche.tampographie</field>
            <field name="arch" type="xml">
                <form string="Tampographie">
                    <header>
                        <button 
                            name="vers_approbation_action"
                            string="Vers Approbation"
                            attrs="{'invisible': ['|',('state','!=','redaction'),('redacteur_id', '=', False)]}"
                            type="object"
                            class="oe_highlight"
                            groups="is_pg_2019.is_main_admin_one_group"
                        />
                        <button 
                            name="vers_approbation_to_redaction_action"
                            string="Vers Rédaction"
                            attrs="{'invisible': ['|',('state', '!=', 'approbation'),'&amp;',('redacteur_id', '=', False),('approbateur_id', '=', False)]}"
                            type="object"
                            groups="is_pg_2019.is_main_admin_one_group"
                        />
                        <button 
                            name="vers_approbation_to_valide_action"
                            string="Vers Validé"
                            attrs="{'invisible': ['|',('approbateur_id', '=', False),('state', '!=', 'approbation')]}"
                            type="object"
                            class="oe_highlight"
                            groups="is_pg_2019.is_main_admin_one_group"
                        />
                        <button 
                            name="vers_valide_to_approbation_action"
                            string="Vers Approbation"
                            attrs="{'invisible': ['|',('approbateur_id', '=', False),('state', '!=', 'valide')]}"
                            type="object"
                            groups="is_pg_2019.is_main_admin_one_group"
                        />
                        <field name="state" widget="statusbar" />
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                                <field name="article_injection_id" />
                                <field name="is_mold_dossierf" />
                                <field name="article_tampo_id" />
                                <field name="temps_cycle" />
                                <field name="nettoyage_materiel_id" />
                            </group>
                            <group>
                                <field name="date_redaction" />
                                <field name="nettoyage_piece_id" />
                                <field name="duree_vie_melange" />
                                <field name="redacteur_id" />
                                <field name="approbateur_id" />
                                <field name="indice" />
                            </group>
                            <separator string="Recette" colspan="4" />
                            <field name="recette_ids" colspan="4" nolabel="1">
                                <tree editable="top">
                                    <field name="name" />
                                    <field name="constituant_id" />
                                    <field name="product_id" />
                                    <field name="poids" />
                                </tree>
                            </field>
                            <separator string="Reglage" colspan="4" />
                            <field name="reglage_ids" colspan="4" nolabel="1">
                                <tree editable="top">
                                    <field name="name" />
                                    <field name="type_reglage_id" />
                                    <field name="reglage" />
                                </tree>
                            </field>
                        </group>
                        <group>
                            <field name="image_finale" widget='image' class="oe_left oe_avatar" />
                            <field name="image_encrier1" widget='image' class="oe_left oe_avatar" />
                            <field name="image_encrier2" widget='image' class="oe_left oe_avatar" />
                            <field name="image_encrier3" widget='image' class="oe_left oe_avatar" />
                            <field name="image_posage" widget='image' class="oe_left oe_avatar" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="action_is_fiche_tampographie" model="ir.actions.act_window">
            <field name="name">Tampographie</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">is.fiche.tampographie</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

    </data>
</openerp>